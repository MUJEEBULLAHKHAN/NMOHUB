<div class="multi-step-container" *ngIf="serviceId == 1">
  <div class="form-card">
    <!-- Step Indicator -->
    <div class="step-indicator">
      <div class="step-indicator-inner">
        <div class="step-circle" (click)="GoToStep(1)" style="cursor: pointer"
          [ngClass]="step == 1 ? 'active' : 'inactive'" id="step-1">
          1
        </div>
        <h6 class="step-form-title" *ngIf="step == 1">Personal Data</h6>
        <div class="step-connector incomplete" id="connector-1"></div>
        <div class="step-circle" (click)="GoToStep(2)" style="cursor: pointer"
          [ngClass]="step == 2 ? 'active' : 'inactive'" id="step-2">
          2
        </div>
        <h6 class="step-form-title" *ngIf="step == 2">Project Data</h6>
        <div class="step-connector incomplete" id="connector-2"></div>
        <div class="step-circle" (click)="GoToStep(3)" style="cursor: pointer"
          [ngClass]="step == 3 ? 'active' : 'inactive'" id="step-3">
          3
        </div>
        <h6 class="step-form-title" *ngIf="step == 3">
          Additional Information
        </h6>
        <div class="step-connector incomplete" id="connector-3"></div>
        <div class="step-circle" (click)="GoToStep(4)" style="cursor: pointer"
          [ngClass]="step == 4 ? 'active' : 'inactive'" id="step-4">
          4
        </div>
        <h6 class="step-form-title" *ngIf="step == 4">Document</h6>
        <div class="step-connector incomplete" id="connector-4" *ngIf="!isRegistrationOTPByPass"></div>
        <div class="step-circle" (click)="GoToStep(5)" style="cursor: pointer" *ngIf="!isRegistrationOTPByPass"
          [ngClass]="step == 5 ? 'active' : 'inactive'" id="step-5">
          5
        </div>
        <h6 class="step-form-title" *ngIf="step == 5">Email Verification</h6>
      </div>
    </div>

    <!-- Form Content -->

    <div class="form-content">
      <!-- Step 1: Personal Data -->
      <div id="step-1-content" class="step-content" *ngIf="step == 1">
        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Full
                Name</label></span>
            <input type="text" id="fullName" [(ngModel)]="registerUserVM.FullName"
              class="form-control form-input custom-input" placeholder="Enter your Full" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.FullName; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="country" class="form-label mb-0">Country of
                Residence</label></span>
            <select class="form-select custom-input custom-select" [(ngModel)]="registerUserVM.CountryId" id="country"
              name="country" required>
              <option *ngFor="let item of countries" [value]="item.id" style="color: black">
                {{ item.name }}
              </option>
            </select>
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.CountryId; else empty">
                <!-- <i class="bi bi-check-lg"></i> -->
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="dateOfBirth" class="form-label mb-0">Date of
                Birth</label></span>
            <input type="date" id="dateOfBirth" [(ngModel)]="registerUserVM.DateOfBirth"
              class="form-control form-input custom-input" placeholder="Enter your Date of Birth" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.DateOfBirth; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="Mobile Number" class="form-label mb-0">Mobile
                Number</label></span>
            <input type="text" id="Mobile Number" [(ngModel)]="registerUserVM.MobileNumber"
              class="form-control form-input custom-input" placeholder="Enter your Mobile Number" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.MobileNumber; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="email" class="form-label mb-0">Email </label></span>
            <input type="email" id="email" [(ngModel)]="registerUserVM.EmailAddress" placeholder="Enter your Email"
              class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.EmailAddress; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="linkedin" class="form-label mb-0">LinkedIn Profile
              </label></span>
            <input type="email" id="linkedin" [(ngModel)]="registerUserVM.LinkedInProfileLink"
              placeholder="LinkedIn Profile" class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="registerUserVM.LinkedInProfileLink; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>
      </div>

      <!-- Step 2: Email Verification -->
      <div id="step-5-content" class="step-content" *ngIf="step == 5">
        <div class="form-field">
          <div class="otp-inputs">
            <input type="text" maxlength="1" class="otp-box" #otp1 [(ngModel)]="emailOTP1"
              (keyup)="moveToNext($event, otp2)" (paste)="handlePaste($event)" required />

            <input type="text" maxlength="1" class="otp-box" #otp2 [(ngModel)]="emailOTP2"
              (keyup)="moveToNext($event, otp3, otp1)" required />

            <input type="text" maxlength="1" class="otp-box" #otp3 [(ngModel)]="emailOTP3"
              (keyup)="moveToNext($event, otp4, otp2)" required />

            <input type="text" maxlength="1" class="otp-box" #otp4 [(ngModel)]="emailOTP4"
              (keyup)="moveToNext($event, otp5, otp3)" required />

            <input type="text" maxlength="1" class="otp-box" #otp5 [(ngModel)]="emailOTP5"
              (keyup)="moveToNext($event, otp6, otp4)" required />

            <input type="text" maxlength="1" class="otp-box" #otp6 [(ngModel)]="emailOTP6"
              (keyup)="moveToNext($event, null, otp5)" required />
          </div>
        </div>
      </div>

      <!-- Step 3: Project Data -->
      <div id="step-2-content" class="step-content" *ngIf="step == 2">
        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Project
                Name</label></span>
            <input type="text" id="fullName" [(ngModel)]="projectRequest.ProjectName" placeholder="Project Name"
              class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="projectRequest.ProjectName; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="CurrentPhaseId" class="form-label mb-0">Current Phase
                of the Project</label></span>
            <select class="form-select custom-input custom-select" id="CurrentPhaseId"
              [(ngModel)]="projectRequest.ProjectPhaseId" name="CurrentPhaseId" required>
              <option *ngFor="let item of projectPhases" [value]="item.id" style="color: black">
                {{ item.name }}
              </option>
            </select>
            <span class="input-group-text icon-group">
              <ng-container *ngIf="projectRequest.ProjectPhaseId; else empty">
                <!-- <i class="bi bi-check-lg"></i> -->
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="dateOfBirth" class="form-label mb-0">Project
                Area</label></span>
            <select class="form-select custom-input custom-select" [(ngModel)]="projectRequest.ProjectAreaID"
              id="vehicleMake" name="vehicleMake" required>
              <option *ngFor="let item of projectAreas" [value]="item.id" style="color: black">
                {{ item.name }}
              </option>
            </select>
            <span class="input-group-text icon-group">
              <ng-container *ngIf="projectRequest.ProjectAreaID; else empty">
                <!-- <i class="bi bi-check-lg"></i> -->
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <label for="dateOfBirth" class="form-label">Ever Participated In Incubator or Accelerator Programs</label>

          <input type="radio" class="" [(ngModel)]="projectRequest.AlreadyParticipatedProgram"
            name="AcceleratorPrograms" id="AcceleratorPrograms1" [value]="true" />
          <span style="padding: 0px 6px; color: lighten(#151a2c, 10%)">Yes</span>

          <input type="radio" class="" [(ngModel)]="projectRequest.AlreadyParticipatedProgram"
            name="AcceleratorPrograms" id="AcceleratorPrograms1" [value]="false" />
          <span style="padding: 0px 6px; color: lighten(#151a2c, 10%)">No</span>

          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field" *ngIf="projectRequest.AlreadyParticipatedProgram">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Incubator
                Name</label></span>
            <input type="text" id="fullName" [(ngModel)]="otherProgramAttend.IncubatorName" placeholder="Project Name"
              class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="otherProgramAttend.IncubatorName; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field" *ngIf="projectRequest.AlreadyParticipatedProgram">
          <label for="fullName" class="form-label">Incubator Details</label>

          <textarea rows="4" [(ngModel)]="otherProgramAttend.Details" class="form-input"
            placeholder="Incubator Details">
          </textarea>

          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <label for="fullName" class="form-label">Brief Description</label>
          <textarea rows="4" [(ngModel)]="projectRequest.BriefDescription" class="form-input"
            placeholder="Project Name">
          </textarea>

          <div id="email-error" class="error-message"></div>
        </div>
      </div>

      <!-- Step 4: Additional Information -->
      <div id="step-3-content" class="step-content" *ngIf="step == 3">
        <div class="form-field">
          <label for="dateOfBirth" class="form-label">Partner in the project</label>

          <input type="radio" class="" [(ngModel)]="projectRequest.IsPartnerAvailable" name="partnersInProject"
            id="partnersInProject1" [value]="true" />
          <span style="padding: 0px 6px; color: #151a2c">Yes</span>

          <input type="radio" class="" [(ngModel)]="projectRequest.IsPartnerAvailable" name="partnersInProject"
            id="partnersInProject1" [value]="false" />
          <span style="padding: 0px 6px; color: #151a2c">No</span>

          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field" *ngIf="projectRequest.IsPartnerAvailable">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Partner
                Name</label></span>
            <input type="text" id="fullName" [(ngModel)]="partner.PartnerName" placeholder="Project Name"
              class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="partner.PartnerName; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field" *ngIf="projectRequest.IsPartnerAvailable">
          <div class="input-group">
            <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Partner
                Role</label></span>
            <input type="text" id="fullName" [(ngModel)]="partner.Role" placeholder="Partner Role"
              class="form-control form-input custom-input" />
            <span class="input-group-text icon-group">
              <ng-container *ngIf="partner.Role; else empty">
                <i class="bi bi-check-lg"></i>
              </ng-container>
              <ng-template #empty></ng-template>
            </span>
          </div>
          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <label for="dateOfBirth" class="form-label">Business Plan OR Business Model</label>

          <input type="radio" class="" [(ngModel)]="projectRequest.IsWrittenBusinessPlan" name="businessModel"
            id="businessModel1" [value]="true" />
          <span style="padding: 0px 6px; color: #151a2c">Yes</span>

          <input type="radio" class="" [(ngModel)]="projectRequest.IsWrittenBusinessPlan" name="businessModel"
            id="businessModel1" [value]="false" />
          <span style="padding: 0px 6px; color: #151a2c">No</span>

          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <label for="fullName" class="form-label">
            What Goals Do You Want To Achieve
          </label>

          <textarea rows="4" [(ngModel)]="projectRequest.HopeAchieve" class="form-input"
            placeholder="What goals do you hope to achieve during the incubation period">
          </textarea>

          <div id="email-error" class="error-message"></div>
        </div>

        <div class="form-field">
          <label for="fullName" class="form-label">
            What type of support do you need from the incubator? (You can select
            more than one option)
          </label>

          <div *ngFor="let item of supportNeeds; let i = index">
            <input style="margin: 5px" class="form-check-input me-2" [(ngModel)]="item.isChecked" name="isChecked"
              type="checkbox" [value]="item.isChecked" id="item{{ i }}" #isChecked />

            <span style="color: #151a2c">{{ item.supportNeed }}</span>
          </div>

          <div id="email-error" class="error-message"></div>
        </div>
      </div>

      <!-- Step 5: Document Upload -->
      <div id="step-4-content" class="step-content" *ngIf="step == 4">
        <div class="upload-container">
          <div class="upload-section">
            <h3 class="section-title">
              Project Document <span class="required">*</span>
            </h3>
            <div class="upload-area" data-type="accident">
              <div class="upload-icon">
                <a href="javascript:void(0);" *ngIf="IsProjectDocumentFile" (click)="RemoveFile('Project Document')">
                  Remove File
                </a>
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                  <polyline points="14,2 14,8 20,8" />
                  <line x1="16" y1="13" x2="8" y2="13" />
                  <line x1="16" y1="17" x2="8" y2="17" />
                  <polyline points="10,9 9,9 8,9" />
                </svg>
              </div>
              <!-- <p class="upload-text">Drop your <strong>File</strong> here</p> -->
              <!-- <button class="select-file-btn">Select File</button> -->
              <input #fileUpload type="file" (change)="onFileSelected($event, 'Project Document')" #fileInput
                style="width: -webkit-fill-available" class="select-file-btn" accept=".jpg,.jpeg,.png,.pdf" />

              <p class="support-text">Only Support</p>
              <p class="file-types">.jpg / .png .PDF</p>
            </div>
          </div>

          <div class="upload-section">
            <h3 class="section-title">Other Document</h3>
            <div class="upload-area" data-type="taqdeer">
              <div class="upload-icon">
                <a href="javascript:void(0);" *ngIf="IsOtherDocumentFile" (click)="RemoveFile('Other Document')">
                  Remove File
                </a>
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                  <polyline points="14,2 14,8 20,8" />
                  <line x1="12" y1="18" x2="12" y2="12" />
                  <line x1="9" y1="15" x2="15" y2="15" />
                </svg>
              </div>
              <!-- <p class="upload-text">Drop your <strong>File</strong> here</p> -->
              <!-- <button class="select-file-btn">Select File</button> -->
              <input #fileUpload type="file" (change)="onFileSelected($event, 'Other Document')" #fileInput
                style="width: -webkit-fill-available" class="select-file-btn" accept=".jpg,.jpeg,.png,.pdf" />
              <p class="support-text">Only Support</p>
              <p class="file-types">.jpg / .png .PDF</p>
              <!-- <input type="file" class="file-input" accept=".jpg,.jpeg,.png,.pdf" hidden> -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="form-navigation">
      <button type="button" id="previous-btn" class="nav-button previous-button" [disabled]="step <= 1"
        (click)="GoToPrevious()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m15 18-6-6 6-6" />
        </svg>
        Previous
      </button>

      <button type="button" id="next-btn" *ngIf="step <= 4 && !isRegistrationOTPByPass" class="nav-button next-button"
        (click)="GoToNext()" [disabled]="step >= lastStep">
        Next
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m9 18 6-6-6-6" />
        </svg>

        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="step == 4 && showLoader"></span>
      </button>

      <button type="button" id="next-btn" *ngIf="step == 5 && !isRegistrationOTPByPass" class="nav-button next-button"
        (click)="SubmitProject()">
        Submit
        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="showLoader"></span>
      </button>

      <button type="button" id="next-btn" *ngIf="step <= 3 && isRegistrationOTPByPass" class="nav-button next-button"
        (click)="GoToNext()" [disabled]="step >= lastStep">
        Next
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m9 18 6-6-6-6" />
        </svg>
      </button>

      <button type="button" id="next-btn" *ngIf="step == 4 && isRegistrationOTPByPass" class="nav-button next-button"
        (click)="SubmitWithoutOTP()">
        Submit
        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="showLoader"></span>
      </button>
    </div>

    <!-- Footer -->
    <div class="form-footer">
      <p class="footer-text">
        Already have an account?
        <a href="/customer-register" class="footer-link">Sign in</a>
      </p>
      <p class="footer-text">
        Go To Home
        <a href="/home" class="footer-link">Home</a>
      </p>
    </div>
  </div>
</div>

<!-- Second Service -->

<div class="multi-step-container" *ngIf="serviceId == 2">
  <div class="form-card">
    <!-- Step Indicator -->
    <div class="step-indicator">
      <div class="step-indicator-inner">
        <div class="step-circle" (click)="GoToStep(1)" style="cursor: pointer"
          [ngClass]="step == 1 ? 'active' : 'inactive'" id="step-1">
          1
        </div>
        <h6 class="step-form-title" *ngIf="step == 1">Client Details</h6>
        <div class="step-connector incomplete" id="connector-1"></div>
        <div class="step-circle" (click)="GoToStep(2)" style="cursor: pointer"
          [ngClass]="step == 2 ? 'active' : 'inactive'" id="step-2">
          2
        </div>
        <h6 class="step-form-title" *ngIf="step == 2">Project & Tech Specs</h6>
        <div class="step-connector incomplete" id="connector-2"></div>
        <div class="step-circle" (click)="GoToStep(3)" style="cursor: pointer"
          [ngClass]="step == 3 ? 'active' : 'inactive'" id="step-3">
          3
        </div>
        <h6 class="step-form-title" *ngIf="step == 3">Timeline & Budget</h6>
        <div class="step-connector incomplete" id="connector-3"></div>
        <div class="step-circle" (click)="GoToStep(4)" style="cursor: pointer"
          [ngClass]="step == 4 ? 'active' : 'inactive'" id="step-4">
          4
        </div>
        <h6 class="step-form-title" *ngIf="step == 4">Supporting Docs</h6>
        <div class="step-connector incomplete" id="connector-4" *ngIf="!isRegistrationOTPByPass"></div>
        <div class="step-circle" (click)="GoToStep(5)" style="cursor: pointer" *ngIf="!isRegistrationOTPByPass"
          [ngClass]="step == 5 ? 'active' : 'inactive'" id="step-5">
          5
        </div>
        <h6 class="step-form-title" *ngIf="step == 5">Email Verification</h6>
      </div>
    </div>

    <!-- Form Content -->

    <div class="form-content">
      <!-- Step 1: Personal Data -->
      <div id="step-1-content" class="step-content" *ngIf="step == 1">
        <form [formGroup]="mvpStep1Form">
          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group"><label for="fullName" class="form-label mb-0">Full
                  Name</label></span>
              <input type="text" id="fullName" class="form-control form-input custom-input"
                placeholder="Enter your Full" formControlName="FullName" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="f['FullName'].valid && f['FullName'].touched">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
                <ng-template #empty></ng-template>
              </span>
            </div>
            <div class="error-message" *ngIf="f['FullName'].touched && f['FullName'].invalid">
              <span *ngIf="f['FullName'].errors?.['required']">Full name is required</span>
              <span *ngIf="f['FullName'].errors?.['minlength']">
                Full name must be at least 2 characters
              </span>
            </div>
          </div>

          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group"><label for="Mobile Number" class="form-label mb-0">Mobile
                  Number</label></span>
              <input type="tel" id="Mobile Number" class="form-control form-input custom-input"
                formControlName="MobileNumber" placeholder="e.g. +966512345678" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    f['MobileNumber'].valid &&
                    (f['MobileNumber'].touched || f['MobileNumber'].dirty)
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
                <ng-template #empty></ng-template>
              </span>
            </div>
            <div class="error-message" *ngIf="f['MobileNumber'].touched && f['MobileNumber'].invalid">
              <span *ngIf="f['MobileNumber'].errors?.['required']">Mobile number is required</span>
              <span *ngIf="f['MobileNumber'].errors?.['pattern']">
                Enter valid number with country code (e.g. +9665XXXXXXX)
              </span>
            </div>
          </div>

          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group"><label for="email" class="form-label mb-0">Email
                </label></span>
              <input type="email" id="email" placeholder="Enter your email" formControlName="EmailAddress"
                class="form-control form-input custom-input" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    f['EmailAddress'].valid &&
                    (f['EmailAddress'].touched || f['EmailAddress'].dirty)
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
                <ng-template #empty></ng-template>
              </span>
            </div>
            <div class="error-message" *ngIf="f['EmailAddress'].touched && f['EmailAddress'].invalid">
              <span *ngIf="f['EmailAddress'].errors?.['required']">Email is required</span>
              <span *ngIf="f['EmailAddress'].errors?.['EmailAddress']">Invalid email format</span>
            </div>
          </div>
        </form>
      </div>

      <form [formGroup]="mvpProgramForm">
        <!-- Step 3: Project Data -->
        <div id="step-2-content" class="step-content" *ngIf="step == 2">
          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group">
                <label for="projectName" class="form-label mb-0">Project Name</label>
              </span>
              <input type="text" id="projectName" formControlName="projectName" placeholder="Project Name"
                class="form-control form-input custom-input" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    mvpV['projectName'].valid && mvpV['projectName'].touched
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
                <ng-template #empty></ng-template>
              </span>
            </div>
            <div class="error-message" *ngIf="mvpV['projectName'].touched && mvpV['projectName'].invalid">
              <span *ngIf="mvpV['projectName'].errors?.['required']">Project Name is required</span>
              <span *ngIf="mvpV['projectName'].errors?.['minlength']">Must be at least 2 characters</span>
            </div>
          </div>

          <div class="form-field">
            <label for="projectDescription" class="form-label">Project Description</label>
            <textarea rows="4" id="projectDescription" formControlName="projectDescription" class="form-input"
              placeholder="Project Description"></textarea>
            <div class="error-message" *ngIf="
                mvpV['projectDescription'].touched &&
                mvpV['projectDescription'].invalid
              ">
              <span *ngIf="mvpV['projectDescription'].errors?.['required']">
                Description is required
              </span>
              <span *ngIf="mvpV['projectDescription'].errors?.['maxlength']">
                Max 300 characters allowed
              </span>
            </div>
          </div>

          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group">
                <label for="prototypeLink" class="form-label mb-0">Prototype Link</label>
              </span>
              <input type="text" id="prototypeLink" formControlName="prototypeLink" placeholder="Prototype Link"
                class="form-control form-input custom-input" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    mvpV['prototypeLink'].valid &&
                    mvpV['prototypeLink'].touched &&
                    mvpV['prototypeLink'].value
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
              </span>
            </div>
            <div class="error-message" *ngIf="
                mvpV['prototypeLink'].touched && mvpV['prototypeLink'].invalid
              ">
              <span *ngIf="mvpV['prototypeLink'].errors?.['pattern']">
                Enter a valid link (must start with http:// or https://)
              </span>
            </div>
          </div>

          <div class="form-field">
            <label class="form-label">Desired Tech Stack</label>
            <div *ngFor="let item of Skills; let i = index">
              <input type="checkbox" (change)="onSkillChange($event, item)" [checked]="
                  mvpV['desiredTechStack'].value.includes(item.skillName)
                " class="form-check-input me-2" />
              <span>{{ item.skillName }}</span>
            </div>
            <div class="error-message" *ngIf="
                mvpV['desiredTechStack'].touched &&
                mvpV['desiredTechStack'].invalid
              ">
              <span *ngIf="mvpV['desiredTechStack'].errors?.['required']">Select at least one skill</span>
            </div>
          </div>
          <div class="form-field">
            <label class="form-label">UI Mockups Uploaded</label>
            <input type="radio" formControlName="uiMockupsUploaded" [value]="true" />
            Yes
            <input type="radio" formControlName="uiMockupsUploaded" [value]="false" />
            No

            <div *ngIf="
                mvpProgramForm.get('uiMockupsUploaded')?.touched &&
                mvpProgramForm.get('uiMockupsUploaded')?.hasError('required')
              " class="error-message">
              Please select Yes or No
            </div>
          </div>
        </div>
      </form>
      <form [formGroup]="mvpProgramFormStep3">
        <!-- Step 3: Additional Information -->
        <div id="step-3-content" class="step-content" *ngIf="step == 3">
          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group">
                <label for="desiredLaunchDate" class="form-label mb-0">Desired Launch Date</label>
              </span>
              <input type="date" id="desiredLaunchDate" formControlName="desiredLaunchDate"
                class="form-control form-input custom-input" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    mvpStep3V['desiredLaunchDate'].valid &&
                    mvpStep3V['desiredLaunchDate'].touched
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
              </span>
            </div>
            <div class="error-message" *ngIf="
                mvpStep3V['desiredLaunchDate'].touched &&
                mvpStep3V['desiredLaunchDate'].invalid
              ">
              <span *ngIf="mvpStep3V['desiredLaunchDate'].errors?.['required']">Launch Date is required</span>
              <span *ngIf="mvpStep3V['desiredLaunchDate'].errors?.['notFuture']">Date must be in the future</span>
            </div>
          </div>

          <div class="form-field">
            <div class="input-group">
              <span class="input-group-text label-group">
                <label for="estimatedBudget" class="form-label mb-0">Estimated Budget (SAR)</label>
              </span>
              <input type="number" id="estimatedBudget" formControlName="estimatedBudget"
                class="form-control form-input custom-input" placeholder="Estimated Budget (SAR)" />
              <span class="input-group-text icon-group">
                <ng-container *ngIf="
                    mvpStep3V['estimatedBudget'].valid &&
                    mvpStep3V['estimatedBudget'].touched
                  ">
                  <i class="bi bi-check-lg"></i>
                </ng-container>
              </span>
            </div>
            <div class="error-message" *ngIf="
                mvpStep3V['estimatedBudget'].touched &&
                mvpStep3V['estimatedBudget'].invalid
              ">
              <span *ngIf="mvpStep3V['estimatedBudget'].errors?.['required']">Budget is required</span>
              <span *ngIf="mvpStep3V['estimatedBudget'].errors?.['min']">Budget must be greater than 0</span>
            </div>
          </div>
        </div>
      </form>
      <!-- Step 4: Document Upload -->
      <form [formGroup]="mvpProgramFormStep4">
        <div id="step-3-content" class="step-content" *ngIf="step == 4">
          <div class="upload-container">
            <div class="upload-section" *ngIf="mvpV['uiMockupsUploaded'].value === true">
              <h3 class="section-title">
                UI Mockups Uploaded <span class="required">*</span>
              </h3>
              <div class="upload-area" data-type="accident">
                <div class="upload-icon">
                  <a href="javascript:void(0);" *ngIf="IsUIMockupsUploaded" (click)="RemoveFile('UI Mockups Uploaded')">
                    Remove File
                  </a>
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14,2 14,8 20,8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                    <polyline points="10,9 9,9 8,9" />
                  </svg>
                </div>

                <input type="file" class="select-file-btn" formControlName="mockupFile"
                  (change)="onFileSelected($event, 'UI Mockups Uploaded')" style="width: -webkit-fill-available"
                  accept=".png,.jpg,.jpeg,.fig" />

                <p class="support-text">Only Support</p>
                <p class="file-types">.PNG, .JPG, FIGMA</p>
                <div class="error-message" *ngIf="
                    mvpProgramFormStep4.get('mockupFile')?.invalid &&
                    mvpProgramFormStep4.get('mockupFile')?.touched
                  ">
                  <span *ngIf="mvpProgramFormStep4.get('mockupFile')?.errors?.['required']">
                    Mockup file is required
                  </span>
                </div>
              </div>
            </div>

            <div class="upload-section">
              <h3 class="section-title">API Specifications</h3>
              <div class="upload-area" data-type="accident">
                <div class="upload-icon">
                  <a href="javascript:void(0);" *ngIf="IsAPISpecifications" (click)="RemoveFile('API Specifications')">
                    Remove File
                  </a>
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14,2 14,8 20,8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                    <polyline points="10,9 9,9 8,9" />
                  </svg>
                </div>
                <input type="file" class="select-file-btn" formControlName="apiSpecifications"
                  (change)="onFileSelected($event, 'API Specifications')" style="width: -webkit-fill-available"
                  accept=".pdf,.docx" />

                <p class="support-text">Only Support</p>
                <p class="file-types">.DOCX, .PDF</p>
              </div>
            </div>

            <div class="upload-section">
              <h3 class="section-title">Design Assets</h3>
              <div class="upload-area" data-type="taqdeer">
                <div class="upload-icon">
                  <a href="javascript:void(0);" *ngIf="IsDesignAssets" (click)="RemoveFile('Design Assets')">
                    Remove File
                  </a>
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14,2 14,8 20,8" />
                    <line x1="12" y1="18" x2="12" y2="12" />
                    <line x1="9" y1="15" x2="15" y2="15" />
                  </svg>
                </div>
                <input type="file" class="select-file-btn" formControlName="designAssets"
                  (change)="onFileSelected($event, 'Design Assets')" style="width: -webkit-fill-available"
                  accept=".pdf,.docx" />
                <p class="support-text">Only Support</p>
                <p class="file-types">ZIP, PNG, JPG</p>
                <!-- <input type="file" class="file-input" accept=".jpg,.jpeg,.png,.pdf" hidden> -->
              </div>
            </div>
          </div>
        </div>
      </form>
      <!-- Step 5: Email Verification -->
      <div id="step-5-content" class="step-content" *ngIf="step == 5">
        <div class="form-field">
          <div class="otp-inputs">
            <input type="text" maxlength="1" class="otp-box" #otp1 [(ngModel)]="emailOTP1"
              (keyup)="moveToNext($event, otp2)" (paste)="handlePaste($event)" required />

            <input type="text" maxlength="1" class="otp-box" #otp2 [(ngModel)]="emailOTP2"
              (keyup)="moveToNext($event, otp3, otp1)" required />

            <input type="text" maxlength="1" class="otp-box" #otp3 [(ngModel)]="emailOTP3"
              (keyup)="moveToNext($event, otp4, otp2)" required />

            <input type="text" maxlength="1" class="otp-box" #otp4 [(ngModel)]="emailOTP4"
              (keyup)="moveToNext($event, otp5, otp3)" required />

            <input type="text" maxlength="1" class="otp-box" #otp5 [(ngModel)]="emailOTP5"
              (keyup)="moveToNext($event, otp6, otp4)" required />

            <input type="text" maxlength="1" class="otp-box" #otp6 [(ngModel)]="emailOTP6"
              (keyup)="moveToNext($event, null, otp5)" required />
          </div>
        </div>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="form-navigation">
      <button type="button" id="previous-btn" class="nav-button previous-button" [disabled]="step <= 1"
        (click)="GoToPrevious()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m15 18-6-6 6-6" />
        </svg>
        Previous
      </button>

      <button type="button" id="next-btn" *ngIf="step <= 4 && !isRegistrationOTPByPass" class="nav-button next-button"
        (click)="GoToNext()" [disabled]="step >= lastStep">
        Next
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m9 18 6-6-6-6" />
        </svg>

        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="step == 4 && showLoader"></span>
      </button>

      <button type="button" id="next-btn" *ngIf="step == 5 && !isRegistrationOTPByPass" class="nav-button next-button"
        (click)="SubmitProject()">
        Submit
        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="showLoader"></span>
      </button>

      <button type="button" id="next-btn" *ngIf="step <= 3 && isRegistrationOTPByPass" class="nav-button next-button"
        (click)="GoToNext()" [disabled]="step >= lastStep">
        Next
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m9 18 6-6-6-6" />
        </svg>
      </button>

      <button type="button" id="next-btn" *ngIf="step == 4 && isRegistrationOTPByPass" class="nav-button next-button"
        (click)="SubmitWithoutOTP()">
        Submit
        <span role="status" aria-hidden="true" class="spinner-border spinner-border-sm align-middle"
          *ngIf="showLoader"></span>
      </button>
    </div>

    <!-- Footer -->
    <div class="form-footer">
      <p class="footer-text">
        Already have an account?
        <a href="/customer-register" class="footer-link">Sign in</a>
      </p>
      <p class="footer-text">
        Go To Home
        <a href="/home" class="footer-link">Home</a>
      </p>
    </div>
  </div>
</div>